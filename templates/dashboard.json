{"title":"[weichiang] Datadog Estimated Usage (WiP)","description":"datadog_demo_keep:true","widgets":[{"id":6775326197593208,"definition":{"title":"Overview","background_color":"vivid_blue","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":7488106115784878,"definition":{"title":"Datadog Estimated Usage Alerts","type":"manage_status","display_format":"countsAndList","color_preference":"background","hide_zero_counts":true,"query":"tag:(estimated_usage)","sort":"status,asc","count":50,"start":0,"summary_type":"monitors","show_priority":false,"show_last_triggered":false},"layout":{"x":0,"y":0,"width":6,"height":5}}]},"layout":{"x":0,"y":0,"width":6,"height":6}},{"id":2463231628984978,"definition":{"title":"Log Analytics Estimated Usage","background_color":"vivid_green","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":7533005959912732,"definition":{"title":"Logs Ingested Bytes - Cumulative","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query0","query":"sum:datadog.estimated_usage.logs.ingested_bytes{*}.as_count()","aggregator":"sum"}],"formulas":[{"alias":"Cumulative Ingested bytes","formula":"query0"}]}],"autoscale":true,"precision":2},"layout":{"x":0,"y":0,"width":2,"height":2}},{"id":4685536877273540,"definition":{"title":"Logs Ingested Bytes - Cumulative","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"style":{"palette":"cool","palette_index":1},"formula":"cumsum(query0)"}],"queries":[{"data_source":"metrics","name":"query0","query":"sum:datadog.estimated_usage.logs.ingested_bytes{*}.as_count()"}],"response_format":"timeseries","style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"include_zero":false},"markers":[{"label":"Committed","value":"y = 153931627888640","display_type":"error dashed"}]},"layout":{"x":2,"y":0,"width":2,"height":2}},{"id":3269321047496970,"definition":{"title":"Logs Ingested Bytes","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"style":{"palette":"cool","palette_index":1},"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:datadog.estimated_usage.logs.ingested_bytes{*}.as_count()"}],"response_format":"timeseries","style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":false},"markers":[]},"layout":{"x":4,"y":0,"width":2,"height":2}},{"id":5217984090098694,"definition":{"title":"Logs Indexed Events - Cumulative","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query0","query":"sum:datadog.estimated_usage.logs.ingested_events{datadog_is_excluded:false}.as_count()","aggregator":"sum"}],"formulas":[{"alias":"Cumulative # of indexed logs","formula":"query0"}]}],"autoscale":true,"precision":2},"layout":{"x":0,"y":2,"width":2,"height":2}},{"id":1166030935094262,"definition":{"title":"Logs Indexed Events - Cumulative","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"style":{"palette":"cool","palette_index":3},"formula":"cumsum(query0)"}],"queries":[{"data_source":"metrics","name":"query0","query":"sum:datadog.estimated_usage.logs.ingested_events{datadog_is_excluded:false}.as_count()"}],"response_format":"timeseries","style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[{"label":"Committed","value":"y = 50000000000","display_type":"error dashed"}]},"layout":{"x":2,"y":2,"width":2,"height":2}},{"id":24996591179434,"definition":{"title":"Logs Indexed Events","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"style":{"palette":"cool","palette_index":3},"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:datadog.estimated_usage.logs.ingested_events{datadog_is_excluded:false}.as_count()"}],"response_format":"timeseries","style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":4,"y":2,"width":2,"height":2}},{"id":6715357369591022,"definition":{"type":"note","content":"### Note\n\nDive into Log Usage in further detail via the [Log Management - Estimated Usage dashboard](https://app.datadoghq.com/dash/integration/30602/log-management---estimated-usage)","background_color":"yellow","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true},"layout":{"x":0,"y":4,"width":6,"height":1}}]},"layout":{"x":6,"y":0,"width":6,"height":6}},{"id":7446963137802440,"definition":{"title":"Infrastructure Estimated Usage","background_color":"vivid_green","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":1980397328983526,"definition":{"title":"Hosts - High Water Mark","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"name":"query1","data_source":"metrics","query":"sum:datadog.estimated_usage.hosts{*}","aggregator":"max"}],"formulas":[{"formula":"query1"}]}],"autoscale":true,"precision":2},"layout":{"x":0,"y":0,"width":2,"height":2}},{"id":3020643209057214,"definition":{"title":"Infrastructure Hosts","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"style":{"palette":"classic","palette_index":0},"formula":"query1"}],"queries":[{"name":"query1","data_source":"metrics","query":"sum:datadog.estimated_usage.hosts{*}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"markers":[{"label":"Committed","value":"y = 1300","display_type":"error dashed"}]},"layout":{"x":2,"y":0,"width":4,"height":2}},{"id":5805009718365080,"definition":{"title":"Containers - High Water Mark","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"name":"query1","data_source":"metrics","query":"sum:datadog.estimated_usage.containers{*}","aggregator":"max"}],"formulas":[{"formula":"query1"}]}],"autoscale":true,"precision":2},"layout":{"x":0,"y":2,"width":2,"height":2}},{"id":7188789456988726,"definition":{"title":"Containers","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"style":{"palette":"classic","palette_index":4},"formula":"query1"}],"queries":[{"name":"query1","data_source":"metrics","query":"sum:datadog.estimated_usage.containers{*}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":2,"y":2,"width":4,"height":2}},{"id":6489090237295280,"definition":{"type":"note","content":"### Note\n\nThe Container count includes Datadog Agent containers. However, **Agent containers are not billed** for customers on the new Pro or Enterprise Infrastructure plan (respectively 5 and 10 containers included per host). This count could be quite different from container counts in the Plan/Usage view, but is useful for spotting trends.","background_color":"yellow","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true},"layout":{"x":0,"y":4,"width":6,"height":1}}]},"layout":{"x":0,"y":0,"width":6,"height":6}},{"id":2059393355883274,"definition":{"title":"Real User Monitoring Estimated Usage","background_color":"vivid_green","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":1775898078084546,"definition":{"title":"Mobile RUM Sessions - Cumulative","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query0","query":"sum:datadog.estimated_usage.rum.sessions{sku:mobile}.as_count()","aggregator":"sum"}],"formulas":[{"alias":"Cumulative Ingested bytes","formula":"query0"}]}],"autoscale":true,"precision":2},"layout":{"x":0,"y":0,"width":2,"height":2}},{"id":4205326299852148,"definition":{"title":"Mobile RUM Sessions - Cumulative","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"formulas":[{"style":{"palette":"orange","palette_index":1},"formula":"cumsum(query0)"}],"queries":[{"data_source":"metrics","name":"query0","query":"sum:datadog.estimated_usage.rum.sessions{sku:mobile}.as_count()"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"include_zero":false},"markers":[{"label":"Committed","value":"y = 0","display_type":"error dashed"}]},"layout":{"x":2,"y":0,"width":2,"height":2}},{"id":3768200594067856,"definition":{"title":"Mobile RUM Sessions","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"style":{"palette":"orange","palette_index":1},"formula":"query0"}],"queries":[{"data_source":"metrics","name":"query0","query":"sum:datadog.estimated_usage.rum.sessions{sku:mobile}.as_count()"}],"response_format":"timeseries","style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":false},"markers":[]},"layout":{"x":4,"y":0,"width":2,"height":2}},{"id":4643035326021850,"definition":{"title":"Browser RUM Sessions - Cumulative","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query0","query":"sum:datadog.estimated_usage.rum.sessions{sku:browser}.as_count()","aggregator":"sum"}],"formulas":[{"alias":"Cumulative Ingested bytes","formula":"query0"}]}],"autoscale":true,"precision":2},"layout":{"x":0,"y":2,"width":2,"height":2}},{"id":7723923962844366,"definition":{"title":"Browser RUM Sessions - Cumulative","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"style":{"palette":"orange","palette_index":3},"formula":"cumsum(query0)"}],"queries":[{"data_source":"metrics","name":"query0","query":"sum:datadog.estimated_usage.rum.sessions{sku:browser}.as_count()"}],"response_format":"timeseries","style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"include_zero":false},"markers":[{"label":"Committed","value":"y = 0","display_type":"error dashed"}]},"layout":{"x":2,"y":2,"width":2,"height":2}},{"id":7180486360070334,"definition":{"title":"Browser RUM Sessions","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"style":{"palette":"orange","palette_index":3},"formula":"query0"}],"queries":[{"data_source":"metrics","name":"query0","query":"sum:datadog.estimated_usage.rum.sessions{sku:browser}.as_count()"}],"response_format":"timeseries","style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":false},"markers":[]},"layout":{"x":4,"y":2,"width":2,"height":2}},{"id":3777265932949060,"definition":{"title":"Browser RUM with Replay Sessions - Cumulative","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query0","query":"sum:datadog.estimated_usage.rum.sessions{sku:replay}.as_count()","aggregator":"sum"}],"formulas":[{"alias":"Cumulative Ingested bytes","formula":"query0"}]}],"autoscale":true,"precision":2},"layout":{"x":0,"y":4,"width":2,"height":2}},{"id":6049462334862820,"definition":{"title":"Browser RUM with Replay Sessions - Cumulative","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"style":{"palette":"orange","palette_index":5},"formula":"cumsum(query0)"}],"queries":[{"data_source":"metrics","name":"query0","query":"sum:datadog.estimated_usage.rum.sessions{sku:replay}.as_count()"}],"response_format":"timeseries","style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"area"}],"yaxis":{"include_zero":false},"markers":[{"label":"Committed","value":"y = 0","display_type":"error dashed"}]},"layout":{"x":2,"y":4,"width":2,"height":2}},{"id":894519446885604,"definition":{"title":"Browser RUM with Replay Sessions","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"style":{"palette":"orange","palette_index":5},"formula":"query0"}],"queries":[{"data_source":"metrics","name":"query0","query":"sum:datadog.estimated_usage.rum.sessions{sku:replay}.as_count()"}],"response_format":"timeseries","style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":false},"markers":[]},"layout":{"x":4,"y":4,"width":2,"height":2}},{"id":7870486528690672,"definition":{"type":"note","content":"### Note\n\n- **Browser RUM Sessions** measure ONLY Browser RUM sessions which do not have session replays collected.\n- **Browser RUM with Replay Sessions** measure ONLY Browser RUM sessions which have session replays collected.","background_color":"yellow","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true},"layout":{"x":0,"y":6,"width":6,"height":1}}]},"layout":{"x":6,"y":0,"width":6,"height":8}},{"id":1541170881657672,"definition":{"title":"APM Estimated Usage","background_color":"vivid_green","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":4676144569385798,"definition":{"title":"APM Hosts - High Water Mark","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"name":"query1","data_source":"metrics","query":"sum:datadog.estimated_usage.apm_hosts{*}","aggregator":"max"}],"formulas":[{"formula":"query1"}]}],"autoscale":true,"precision":2},"layout":{"x":0,"y":0,"width":2,"height":2}},{"id":3590770274389174,"definition":{"title":"APM Hosts","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"style":{"palette":"purple","palette_index":5},"formula":"query1"}],"queries":[{"name":"query1","data_source":"metrics","query":"sum:datadog.estimated_usage.apm_hosts{*}"}],"response_format":"timeseries","style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"markers":[{"label":"Committed","value":"y = 300","display_type":"error dashed"}]},"layout":{"x":2,"y":0,"width":4,"height":2}},{"id":7640691797168264,"definition":{"title":"APM Indexed Spans - Cumulative","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query0","query":"sum:datadog.estimated_usage.apm.indexed_spans{*}.as_count()","aggregator":"sum"}],"formulas":[{"alias":"Cumulative Index Spans","formula":"query0"}]}],"autoscale":true,"precision":2},"layout":{"x":0,"y":2,"width":2,"height":2}},{"id":2259323054852872,"definition":{"title":"APM Indexed Spans - Cumulative","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Cumulative Index Spans","style":{"palette":"purple","palette_index":1},"formula":"cumsum(query0)"}],"queries":[{"data_source":"metrics","name":"query0","query":"sum:datadog.estimated_usage.apm.indexed_spans{*}.as_count()"}],"response_format":"timeseries","style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"area"}],"markers":[{"label":"Committed","value":"y = 12000000000","display_type":"error dashed"}]},"layout":{"x":2,"y":2,"width":2,"height":2}},{"id":6019649602132872,"definition":{"title":"APM Indexed Spans","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Indexed Spans","style":{"palette":"purple","palette_index":1},"formula":"query1"}],"queries":[{"name":"query1","data_source":"metrics","query":"sum:datadog.estimated_usage.apm.indexed_spans{*}.as_count()"}],"response_format":"timeseries","style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"markers":[]},"layout":{"x":4,"y":2,"width":2,"height":2}},{"id":6002336339266422,"definition":{"title":"APM Ingested Bytes - Cumulative","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query0","query":"sum:datadog.estimated_usage.apm.ingested_bytes{*}.as_count()","aggregator":"sum"}],"formulas":[{"formula":"query0"}]}],"autoscale":true,"precision":2},"layout":{"x":0,"y":4,"width":2,"height":2}},{"id":5056845140308174,"definition":{"title":"APM Ingested Bytes - Cumulative","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"style":{"palette":"purple","palette_index":3},"formula":"cumsum(query0)"}],"queries":[{"data_source":"metrics","name":"query0","query":"sum:datadog.estimated_usage.apm.ingested_bytes{*}.as_count()"}],"response_format":"timeseries","style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"area"}],"markers":[{"label":"Committed","value":"y = 43980465111040","display_type":"error dashed"}]},"layout":{"x":2,"y":4,"width":2,"height":2}},{"id":7453641159629314,"definition":{"title":"APM Ingested Bytes","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"style":{"palette":"purple","palette_index":3},"formula":"query1"}],"queries":[{"name":"query1","data_source":"metrics","query":"sum:datadog.estimated_usage.apm.ingested_bytes{*}.as_count()"}],"response_format":"timeseries","style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"bars"}]},"layout":{"x":4,"y":4,"width":2,"height":2}},{"id":1561761815244910,"definition":{"type":"note","content":"### Note\n\nDive into APM Usage in further detail via the [APM Traces Estimated Usage dashboard](https://app.datadoghq.com/dash/integration/30658/apm-traces-estimated-usage)","background_color":"yellow","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true},"layout":{"x":0,"y":6,"width":6,"height":1}}]},"layout":{"x":0,"y":6,"width":6,"height":8}},{"id":2087280138110484,"definition":{"title":"Custom Metrics Estimated Usage","background_color":"vivid_green","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":2544404483845764,"definition":{"title":"Custom Metrics - Average","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"name":"query1","data_source":"metrics","query":"sum:datadog.estimated_usage.metrics.custom{*}","aggregator":"avg"}],"formulas":[{"formula":"query1"}]}],"autoscale":true,"precision":2},"layout":{"x":0,"y":0,"width":2,"height":2}},{"id":1199375701098980,"definition":{"title":"Custom Metrics","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"style":{"palette":"green","palette_index":5},"formula":"query1"}],"queries":[{"name":"query1","data_source":"metrics","query":"sum:datadog.estimated_usage.metrics.custom{*}"}],"response_format":"timeseries","style":{"palette":"green","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"markers":[{"label":"Committed","value":"y = 320000","display_type":"error dashed"}]},"layout":{"x":2,"y":0,"width":4,"height":2}},{"id":5062892386989814,"definition":{"title":"Custom Metrics Ingested - Average","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"name":"query1","data_source":"metrics","query":"sum:datadog.estimated_usage.metrics.custom.ingested{*}","aggregator":"avg"}],"formulas":[{"formula":"query1"}]}],"autoscale":true,"precision":2},"layout":{"x":0,"y":2,"width":2,"height":2}},{"id":2303556853117438,"definition":{"title":"Custom Metrics Ingested","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"style":{"palette":"green","palette_index":3},"formula":"query1"}],"queries":[{"name":"query1","data_source":"metrics","query":"sum:datadog.estimated_usage.metrics.custom.ingested{*}"}],"response_format":"timeseries","style":{"palette":"green","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"markers":[{"label":"Committed","value":"y = 150","display_type":"error dashed"}]},"layout":{"x":2,"y":2,"width":4,"height":2}},{"id":3677007124074358,"definition":{"type":"note","content":"### Note\n\n**Custom Metrics Ingested** is only applicable if **Metrics Without Limits** is configured. If you are not using **Metrics Without Limits**, please disregard it.","background_color":"yellow","font_size":"14","text_align":"left","vertical_align":"top","show_tick":false,"tick_pos":"50%","tick_edge":"left","has_padding":true},"layout":{"x":0,"y":4,"width":6,"height":1}}]},"layout":{"x":6,"y":8,"width":6,"height":6}}],"template_variables":[],"layout_type":"ordered","notify_list":["weichiang.lim@datadoghq.com"],"reflow_type":"fixed","tags":[]}